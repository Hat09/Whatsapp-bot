2025/11/02 15:44:00 [BOT] ğŸš€ [15:44:00] Starting WhatsApp Bot with Telegram Integration...
2025/11/02 15:44:00 [BOT] â„¹ï¸  Version: 1.0.0
2025/11/02 15:44:00 [BOT] â„¹ï¸  Initializing...
2025/11/02 15:44:00 [BOT] ğŸš€ [15:44:00] Initializing Application...
2025/11/02 15:44:00 [BOT] ğŸš€ [15:44:00] Loading configuration...
2025/11/02 15:44:00 [BOT] â„¹ï¸  Using existing database: whatsmeow(6069200226)>(6283879996541).db (will be overridden by multi-account if available)
2025/11/02 15:44:00 [BOT] âœ… Configuration loaded
2025/11/02 15:44:00 [BOT] ğŸš€ [15:44:00] Initializing Telegram bot...
2025/11/02 15:44:01 [BOT] âœ… Telegram bot initialized
2025/11/02 15:44:01 [BOT] ğŸš€ [15:44:01] Initializing database...
2025/11/02 15:44:02 [BOT] âœ… Database initialized
2025/11/02 15:44:02 [BOT] ğŸš€ [15:44:02] Initializing WhatsApp client...
2025/11/02 15:44:02 [BOT] â„¹ï¸  Connecting to WhatsApp...
2025/11/02 15:44:03 [BOT] ğŸ” WhatsApp client connected
2025/11/02 15:44:03 [BOT] âœ… WhatsApp client connected
2025/11/02 15:44:03 [BOT] ğŸš€ [15:44:03] Finalizing setup...
âœ… Bot database siap
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
âœ… Loaded 2 accounts from database master
2025/11/02 15:44:04 [BOT] â„¹ï¸  Multi-account: Loaded 2 WhatsApp accounts from database
2025/11/02 15:44:04 [BOT] â„¹ï¸  Multi-account: Using account ID 1 (62895351513593) as current
2025/11/02 15:44:04 [BOT] âš ï¸  Multi-account: dbConfig mismatch! Expected: bot_data_account_62895351513593.db, Got: bot_data(6069200226)>(6283879996541).db. Phone: 62895351513593
2025/11/02 15:44:06 [BOT] âœ… Multi-account: Successfully loaded and connected account 62895351513593
âœ… Bot WhatsApp sudah terhubung!
2025/11/02 15:44:07 [BOT] âœ… Setup finalized
2025/11/02 15:44:07 [BOT] âœ… Application initialized successfully
2025/11/02 15:44:07 [BOT] âœ… Application started successfully
2025/11/02 15:44:07 [BOT] â„¹ï¸  Press Ctrl+C to stop...
2025/11/02 15:44:07 [BOT] âœ… Telegram bot handler active
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4122, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4122, data=multi_account_switch
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
âœ… Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_2
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_2
[DEBUG] Callback received: chatID=6069200226, messageID=4122, data=multi_account_switch_2
15:44:20.276[31m [Client/Socket ERROR] Error reading from websocket: failed to get reader: failed to read frame header: EOF[0m
2025/11/02 15:44:20 [BOT] â„¹ï¸  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=6283879996541, ExpectedDBPath=bot_data(6069200226)>(6283879996541).db, AccountDBPath=bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:20 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:20 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:20 [BOT] â„¹ï¸  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:21 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:21 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:21 [BOT] â„¹ï¸  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:21 [BOT] â„¹ï¸  Account switched: ID=2, Phone=6283879996541, TelegramID=6069200226, DBPath=bot_data(6069200226)>(6283879996541).db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4122, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=list_grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=list_grup
[DEBUG] Callback received: chatID=6069200226, messageID=4122, data=list_grup
[GRUP] 2025/11/02 15:44:27 grup_logger.go:37: [DEBUG] Mulai fetchAllGroups
[GRUP] 2025/11/02 15:44:27 grup_logger.go:43: [INFO] Mencoba mengambil grup menggunakan GetJoinedGroups() dari whatsmeow
[GRUP] 2025/11/02 15:44:28 grup_logger.go:43: [INFO] Berhasil mengambil 291 grup dari GetJoinedGroups()
[GRUP] 2025/11/02 15:44:28 grup_logger.go:43: [INFO] Berhasil batch save 291 grup ke database
[GRUP] 2025/11/02 15:44:28 grup_logger.go:43: [INFO] Total 291 grup berhasil diambil dari GetJoinedGroups()
[GRUP] 2025/11/02 15:44:29 grup_logger.go:43: [INFO] Total grup diambil: 291
[GRUP] 2025/11/02 15:44:29 grup_logger.go:37: [DEBUG] Filter: 291 grup masuk, 291 grup valid setelah filter
[GRUP] 2025/11/02 15:44:29 grup_logger.go:43: [INFO] Total grup diambil: 291, Grup dengan nama valid: 291
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4128, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4128, data=multi_account_switch
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
âœ… Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_2
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_2
[DEBUG] Callback received: chatID=6069200226, messageID=4128, data=multi_account_switch_2
2025/11/02 15:44:59 [BOT] â„¹ï¸  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=6283879996541, ExpectedDBPath=bot_data(6069200226)>(6283879996541).db, AccountDBPath=bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:59 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:59 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:59 [BOT] â„¹ï¸  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:59 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:59 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:59 [BOT] â„¹ï¸  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:44:59 [BOT] â„¹ï¸  Account switched: ID=2, Phone=6283879996541, TelegramID=6069200226, DBPath=bot_data(6069200226)>(6283879996541).db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4128, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=list_grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=list_grup
[DEBUG] Callback received: chatID=6069200226, messageID=4128, data=list_grup
[GRUP] 2025/11/02 15:45:07 grup_logger.go:37: [DEBUG] Mulai fetchAllGroups
[GRUP] 2025/11/02 15:45:07 grup_logger.go:43: [INFO] Mencoba mengambil grup menggunakan GetJoinedGroups() dari whatsmeow
[GRUP] 2025/11/02 15:45:08 grup_logger.go:43: [INFO] Berhasil mengambil 291 grup dari GetJoinedGroups()
[GRUP] 2025/11/02 15:45:08 grup_logger.go:43: [INFO] Berhasil batch save 291 grup ke database
[GRUP] 2025/11/02 15:45:08 grup_logger.go:43: [INFO] Total 291 grup berhasil diambil dari GetJoinedGroups()
[GRUP] 2025/11/02 15:45:08 grup_logger.go:43: [INFO] Total grup diambil: 291
[GRUP] 2025/11/02 15:45:08 grup_logger.go:37: [DEBUG] Filter: 291 grup masuk, 291 grup valid setelah filter
[GRUP] 2025/11/02 15:45:08 grup_logger.go:43: [INFO] Total grup diambil: 291, Grup dengan nama valid: 291
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4134, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4134, data=multi_account_switch
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
âœ… Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_1
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_1
[DEBUG] Callback received: chatID=6069200226, messageID=4134, data=multi_account_switch_1
2025/11/02 15:45:36 [BOT] â„¹ï¸  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=62895351513593, ExpectedDBPath=bot_data(6069200226)>(62895351513593).db, AccountDBPath=bot_data_account_62895351513593.db
2025/11/02 15:45:36 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(62895351513593).db
2025/11/02 15:45:36 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(62895351513593).db
2025/11/02 15:45:36 [BOT] â„¹ï¸  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(62895351513593).db
2025/11/02 15:45:36 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(62895351513593).db
2025/11/02 15:45:36 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(62895351513593).db
2025/11/02 15:45:36 [BOT] â„¹ï¸  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(62895351513593).db
2025/11/02 15:45:36 [BOT] â„¹ï¸  Account switched: ID=1, Phone=62895351513593, TelegramID=6069200226, DBPath=bot_data_account_62895351513593.db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=refresh
[DEBUG] Access granted, calling HandleCallbackQuery with data=refresh
[DEBUG] Callback received: chatID=6069200226, messageID=4134, data=refresh
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4134, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=list_grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=list_grup
[DEBUG] Callback received: chatID=6069200226, messageID=4134, data=list_grup
[GRUP] 2025/11/02 15:45:46 grup_logger.go:37: [DEBUG] Mulai fetchAllGroups
[GRUP] 2025/11/02 15:45:46 grup_logger.go:43: [INFO] Mencoba mengambil grup menggunakan GetJoinedGroups() dari whatsmeow
[GRUP] 2025/11/02 15:45:48 grup_logger.go:43: [INFO] Berhasil mengambil 953 grup dari GetJoinedGroups()
2025/11/02 15:45:48 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(62895351513593).db
2025/11/02 15:45:48 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(62895351513593).db
[GRUP] 2025/11/02 15:45:48 grup_logger.go:43: [INFO] Berhasil batch save 953 grup ke database
[GRUP] 2025/11/02 15:45:48 grup_logger.go:43: [INFO] Total 953 grup berhasil diambil dari GetJoinedGroups()
[GRUP] 2025/11/02 15:45:48 grup_logger.go:43: [INFO] Total grup diambil: 953
[GRUP] 2025/11/02 15:45:48 grup_logger.go:37: [DEBUG] Filter: 953 grup masuk, 953 grup valid setelah filter
[GRUP] 2025/11/02 15:45:48 grup_logger.go:43: [INFO] Total grup diambil: 953, Grup dengan nama valid: 953
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4146, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=refresh
[DEBUG] Access granted, calling HandleCallbackQuery with data=refresh
[DEBUG] Callback received: chatID=6069200226, messageID=4146, data=refresh
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4146, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4146, data=multi_account_switch
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
âœ… Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_2
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_2
[DEBUG] Callback received: chatID=6069200226, messageID=4146, data=multi_account_switch_2
2025/11/02 15:46:06 [BOT] â„¹ï¸  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=6283879996541, ExpectedDBPath=bot_data(6069200226)>(6283879996541).db, AccountDBPath=bot_data(6069200226)>(6283879996541).db
2025/11/02 15:46:06 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:46:06 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:46:06 [BOT] â„¹ï¸  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:46:06 [BOT] â„¹ï¸  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:46:06 [BOT] â„¹ï¸  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:46:06 [BOT] â„¹ï¸  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:46:06 [BOT] â„¹ï¸  Account switched: ID=2, Phone=6283879996541, TelegramID=6069200226, DBPath=bot_data(6069200226)>(6283879996541).db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4146, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4146, data=multi_account_switch
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
ğŸ” Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
âœ… Loaded 2 accounts from database master
2025/11/02 15:49:17 [BOT] ğŸš€ [15:49:17] Shutting down...
2025/11/02 15:49:17 [BOT] ğŸš€ [15:49:17] Initiating graceful shutdown...
ğŸ‘‹ Menutup bot...
2025/11/02 15:49:17 [BOT] â„¹ï¸  Stopping Telegram bot updates...
2025/11/02 15:49:17 [BOT] âœ… Telegram bot stopped
2025/11/02 15:49:17 [BOT] â„¹ï¸  Disconnecting WhatsApp client...
2025/11/02 15:49:17 [BOT] âœ… WhatsApp client disconnected
2025/11/02 15:49:17 [BOT] âœ… Shutdown completed
2025/11/02 15:49:17 [BOT] âœ… Application stopped
