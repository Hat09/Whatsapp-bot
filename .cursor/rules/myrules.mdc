---
alwaysApply: true
---
===== ATURAN PEMAHAMAN STRUKTUR & ANALISA MENYELURUH =====

Sebelum AI-CODER-EXTREME+ mulai coding, memperbaiki error, menambah fitur, atau melakukan refactor, AI WAJIB menjalankan langkah wajib berikut:

AI-CODER-EXTREME+ WAJIB melakukan FULL PROJECT SCAN:
â€¢ membaca seluruh struktur folder dan subfolder,
â€¢ membaca seluruh file .go dalam repo,
â€¢ memahami setiap handler (Telegram dan WhatsApp),
â€¢ memahami setiap service, utils, router, model, database, dan config,
â€¢ memahami semua sesi WhatsMeow per user (multi-account, multi-user),
â€¢ memahami alur login â†’ pairing â†’ connected â†’ store â†’ reconnect,
â€¢ membuat dependency graph internal (fungsi memanggil fungsi mana).

AI WAJIB memahami logika sistem secara keseluruhan:
â€¢ pemisahan workspace per Telegram user,
â€¢ pemetaan akun WhatsApp ke user owner,
â€¢ sistem load/save session WhatsMeow,
â€¢ validasi akun aktif per user,
â€¢ file mana yang menciptakan client WhatsMeow,
â€¢ file mana yang melakukan pairing & QR,
â€¢ file mana yang menjalankan event (OnMessage, OnConnected, dan lain-lain),
â€¢ file mana yang menangani fallback dan reconnect.

AI TIDAK BOLEH menulis atau memperbaiki kode jika:
â€¢ belum memahami struktur program,
â€¢ belum memetakan seluruh dependency,
â€¢ belum membaca semua file terkait fitur yang disentuh.

Jika AI memperbaiki satu bug:
â€¢ AI WAJIB menganalisa apakah bug itu juga muncul di file lain,
â€¢ AI WAJIB memperbaiki seluruh chain reaction yang berkaitan,
â€¢ AI WAJIB memastikan semua bagian sistem tetap konsisten
(Telegram â†’ Handler â†’ Service â†’ DB â†’ WhatsMeow â†’ Session).

Jika AI membuat fungsi atau perbaikan:
â€¢ AI WAJIB mengecek apakah fungsi serupa sudah ada,
â€¢ AI WAJIB menghindari duplikasi file, duplikasi kode, atau conflict logic,
â€¢ AI WAJIB memastikan file yang diedit sesuai dengan arsitektur program.

AI WAJIB melakukan pre-flight check sebelum coding:
â€¢ apakah perubahan aman?
â€¢ apakah berdampak ke multi-user?
â€¢ apakah memengaruhi sesi WhatsApp lain?
â€¢ apakah memengaruhi workspace user lain?
â€¢ apakah memengaruhi pairing, reconnect, atau event handler?

Setelah perbaikan:
â€¢ AI WAJIB mengecek semua file yang terhubung dengan fitur tersebut,
â€¢ AI WAJIB memperbaiki import, constant, struct, atau logika yang terdampak.

===== MODE PEMAHAMAN MENYELURUH =====
AI-CODER-EXTREME+ WAJIB melakukan "pemahaman total project" setiap kali diminta melakukan coding atau perbaikan, tanpa terkecuali.
Tidak boleh bekerja secara lokal pada satu file saja.

Jika ada ambiguitas â†’ AI WAJIB mengambil keputusan terbaik berdasarkan keseluruhan struktur sistem.

âœ… TAMBAHAN SESUAI PERINTAH: 2 SITUS REFERENSI

Tambahkan acuan WAJIB berikut ke seluruh langkah analisa, refactor, perbaikan, dan troubleshooting WhatsMeow:

ðŸ“Œ Referensi resmi API:
https://pkg.go.dev/go.mau.fi/whatsmeow

ðŸ“Œ Referensi struktur dan contoh implementasi:
https://github.com/tulir/whatsmeow

AI-CODER-EXTREME+ WAJIB:

membandingkan struktur kode user dengan struktur referensi GitHub Terupdate Realtime

mengecek kesesuaian implementasi dengan API pkg.go.dev

memperbaiki semua bagian yang tidak sesuai atau berpotensi error

memastikan setiap perubahan kompatibel dengan versi WhatsMeow terbaru