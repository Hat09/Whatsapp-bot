2025/11/02 15:39:03 [BOT] üöÄ [15:39:03] Starting WhatsApp Bot with Telegram Integration...
2025/11/02 15:39:03 [BOT] ‚ÑπÔ∏è  Version: 1.0.0
2025/11/02 15:39:03 [BOT] ‚ÑπÔ∏è  Initializing...
2025/11/02 15:39:03 [BOT] üöÄ [15:39:03] Initializing Application...
2025/11/02 15:39:03 [BOT] üöÄ [15:39:03] Loading configuration...
2025/11/02 15:39:03 [BOT] ‚ÑπÔ∏è  Using existing database: whatsmeow(6069200226)>(6283879996541).db (will be overridden by multi-account if available)
2025/11/02 15:39:03 [BOT] ‚úÖ Configuration loaded
2025/11/02 15:39:03 [BOT] üöÄ [15:39:03] Initializing Telegram bot...
2025/11/02 15:39:05 [BOT] ‚úÖ Telegram bot initialized
2025/11/02 15:39:05 [BOT] üöÄ [15:39:05] Initializing database...
2025/11/02 15:39:05 [BOT] ‚úÖ Database initialized
2025/11/02 15:39:05 [BOT] üöÄ [15:39:05] Initializing WhatsApp client...
2025/11/02 15:39:05 [BOT] ‚ÑπÔ∏è  Connecting to WhatsApp...
2025/11/02 15:39:06 [BOT] üîç WhatsApp client connected
2025/11/02 15:39:07 [BOT] ‚úÖ WhatsApp client connected
2025/11/02 15:39:07 [BOT] üöÄ [15:39:07] Finalizing setup...
‚úÖ Bot database siap
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
‚úÖ Loaded 2 accounts from database master
2025/11/02 15:39:07 [BOT] ‚ÑπÔ∏è  Multi-account: Loaded 2 WhatsApp accounts from database
2025/11/02 15:39:07 [BOT] ‚ÑπÔ∏è  Multi-account: Using account ID 1 (62895351513593) as current
2025/11/02 15:39:07 [BOT] ‚ö†Ô∏è  Multi-account: dbConfig mismatch! Expected: bot_data_account_62895351513593.db, Got: bot_data(6069200226)>(6283879996541).db. Phone: 62895351513593
2025/11/02 15:39:08 [BOT] ‚úÖ Multi-account: Successfully loaded and connected account 62895351513593
‚úÖ Bot WhatsApp sudah terhubung!
2025/11/02 15:39:10 [BOT] ‚úÖ Setup finalized
2025/11/02 15:39:10 [BOT] ‚úÖ Application initialized successfully
2025/11/02 15:39:10 [BOT] ‚úÖ Application started successfully
2025/11/02 15:39:10 [BOT] ‚ÑπÔ∏è  Press Ctrl+C to stop...
2025/11/02 15:39:10 [BOT] ‚úÖ Telegram bot handler active
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=refresh
[DEBUG] Access granted, calling HandleCallbackQuery with data=refresh
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=refresh
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_switch
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
‚úÖ Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_2
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_2
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_switch_2
15:39:31.014[31m [Client/Socket ERROR] Error reading from websocket: failed to get reader: failed to read frame header: EOF[0m
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=6283879996541, ExpectedDBPath=bot_data(6069200226)>(6283879996541).db, AccountDBPath=bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:31 [BOT] ‚ÑπÔ∏è  Account switched: ID=2, Phone=6283879996541, TelegramID=6069200226, DBPath=bot_data(6069200226)>(6283879996541).db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=refresh
[DEBUG] Access granted, calling HandleCallbackQuery with data=refresh
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=refresh
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_switch
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
‚úÖ Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_2
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_2
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_switch_2
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=6283879996541, ExpectedDBPath=bot_data(6069200226)>(6283879996541).db, AccountDBPath=bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:39:55 [BOT] ‚ÑπÔ∏è  Account switched: ID=2, Phone=6283879996541, TelegramID=6069200226, DBPath=bot_data(6069200226)>(6283879996541).db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_switch
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
‚úÖ Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_2
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_2
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=multi_account_switch_2
2025/11/02 15:40:03 [BOT] ‚ÑπÔ∏è  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=6283879996541, ExpectedDBPath=bot_data(6069200226)>(6283879996541).db, AccountDBPath=bot_data(6069200226)>(6283879996541).db
2025/11/02 15:40:04 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:40:04 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:40:04 [BOT] ‚ÑπÔ∏è  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:40:04 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:40:04 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:40:04 [BOT] ‚ÑπÔ∏è  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:40:04 [BOT] ‚ÑπÔ∏è  Account switched: ID=2, Phone=6283879996541, TelegramID=6069200226, DBPath=bot_data(6069200226)>(6283879996541).db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=list_grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=list_grup
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=list_grup
[GRUP] 2025/11/02 15:40:09 grup_logger.go:37: [DEBUG] Mulai fetchAllGroups
[GRUP] 2025/11/02 15:40:09 grup_logger.go:43: [INFO] Mencoba mengambil grup menggunakan GetJoinedGroups() dari whatsmeow
[GRUP] 2025/11/02 15:40:11 grup_logger.go:43: [INFO] Berhasil mengambil 953 grup dari GetJoinedGroups()
[GRUP] 2025/11/02 15:40:11 grup_logger.go:43: [INFO] Berhasil batch save 953 grup ke database
[GRUP] 2025/11/02 15:40:11 grup_logger.go:43: [INFO] Total 953 grup berhasil diambil dari GetJoinedGroups()
[GRUP] 2025/11/02 15:40:11 grup_logger.go:43: [INFO] Total grup diambil: 953
[GRUP] 2025/11/02 15:40:11 grup_logger.go:37: [DEBUG] Filter: 953 grup masuk, 953 grup valid setelah filter
[GRUP] 2025/11/02 15:40:11 grup_logger.go:43: [INFO] Total grup diambil: 953, Grup dengan nama valid: 953
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=refresh
[DEBUG] Access granted, calling HandleCallbackQuery with data=refresh
[DEBUG] Callback received: chatID=6069200226, messageID=4095, data=refresh
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_menu
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_menu
[DEBUG] Callback received: chatID=6069200226, messageID=4107, data=multi_account_menu
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch
[DEBUG] Callback received: chatID=6069200226, messageID=4107, data=multi_account_switch
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
üîç Found whatsapp_accounts table in: bot_data(6069200226)>(6283879996541).db
‚úÖ Loaded 2 accounts from database master
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=multi_account_switch_2
[DEBUG] Access granted, calling HandleCallbackQuery with data=multi_account_switch_2
[DEBUG] Callback received: chatID=6069200226, messageID=4107, data=multi_account_switch_2
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  SwitchAccount: Updated dbConfig - TelegramID=6069200226, Phone=6283879996541, ExpectedDBPath=bot_data(6069200226)>(6283879996541).db, AccountDBPath=bot_data(6069200226)>(6283879996541).db
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  SwitchAccount: Database pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Creating new pool with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  GetBotDBPool: Pool rebuilt successfully with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  Account switch callback: Database pool rebuilt with path: bot_data(6069200226)>(6283879996541).db
2025/11/02 15:41:08 [BOT] ‚ÑπÔ∏è  Account switched: ID=2, Phone=6283879996541, TelegramID=6069200226, DBPath=bot_data(6069200226)>(6283879996541).db
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=grup
[DEBUG] Callback received: chatID=6069200226, messageID=4107, data=grup
[DEBUG] CallbackQuery received from userID=6069200226, allowedID=6069200226, data=list_grup
[DEBUG] Access granted, calling HandleCallbackQuery with data=list_grup
[DEBUG] Callback received: chatID=6069200226, messageID=4107, data=list_grup
[GRUP] 2025/11/02 15:41:13 grup_logger.go:37: [DEBUG] Mulai fetchAllGroups
[GRUP] 2025/11/02 15:41:13 grup_logger.go:43: [INFO] Mencoba mengambil grup menggunakan GetJoinedGroups() dari whatsmeow
[GRUP] 2025/11/02 15:41:14 grup_logger.go:43: [INFO] Berhasil mengambil 953 grup dari GetJoinedGroups()
[GRUP] 2025/11/02 15:41:14 grup_logger.go:43: [INFO] Berhasil batch save 953 grup ke database
[GRUP] 2025/11/02 15:41:14 grup_logger.go:43: [INFO] Total 953 grup berhasil diambil dari GetJoinedGroups()
[GRUP] 2025/11/02 15:41:14 grup_logger.go:43: [INFO] Total grup diambil: 953
[GRUP] 2025/11/02 15:41:14 grup_logger.go:37: [DEBUG] Filter: 953 grup masuk, 953 grup valid setelah filter
[GRUP] 2025/11/02 15:41:14 grup_logger.go:43: [INFO] Total grup diambil: 953, Grup dengan nama valid: 953
2025/11/02 15:43:50 [BOT] üöÄ [15:43:50] Shutting down...
2025/11/02 15:43:50 [BOT] üöÄ [15:43:50] Initiating graceful shutdown...
üëã Menutup bot...
2025/11/02 15:43:50 [BOT] ‚ÑπÔ∏è  Stopping Telegram bot updates...
2025/11/02 15:43:50 [BOT] ‚úÖ Telegram bot stopped
2025/11/02 15:43:50 [BOT] ‚ÑπÔ∏è  Disconnecting WhatsApp client...
2025/11/02 15:43:51 [BOT] ‚úÖ WhatsApp client disconnected
2025/11/02 15:43:51 [BOT] ‚úÖ Shutdown completed
2025/11/02 15:43:51 [BOT] ‚úÖ Application stopped
